<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ë…¸íŠ¸ ìƒì„¸ ë³´ê¸°</title>
  <link rel="stylesheet" href="./style/board_style.css">
</head>
<body>
  <h1>ìë£Œêµ¬ì¡° ì¤‘ê°„ ì •ë¦¬</h1>
  <div class="container">
    <!-- Left Panel -->
    <div class="left-panel">
      <!-- PDF ì²« ì¥ ë¯¸ë¦¬ë³´ê¸° -->
      <canvas id="pdf-canvas" width="400"></canvas>

      <!-- ê¸€ì“´ì´ ë‚´ìš© -->
      <div class="note-description">
        <h3>ë…¸íŠ¸ ì„¤ëª…</h3>
        <p>ì—°ê²° ë¦¬ìŠ¤íŠ¸, ìŠ¤íƒ, íë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤. ì‹œí—˜ì— ìì£¼ ë‚˜ì˜¤ëŠ” ë¶€ë¶„ ìœ„ì£¼ë¡œ ìš”ì•½í–ˆê³ , ê·¸ë¦¼ê³¼ í•¨ê»˜ ì •ë¦¬ë˜ì–´ ìˆì–´ì„œ ë³´ê¸° ì‰½ìŠµë‹ˆë‹¤.</p>
      </div>

      <!-- ëŒ“ê¸€ -->
      <div class="comments">
        <h3>ëŒ“ê¸€</h3>

        <div class="comment"><strong>ì´ì˜í¬:</strong> ë„ˆë¬´ ì˜ ì •ë¦¬ë˜ì–´ ìˆì–´ìš”. ê°ì‚¬í•©ë‹ˆë‹¤!</div>
        <div class="comment"><strong>ë°•ì² ìˆ˜:</strong> ì‹œí—˜ ì „ì— í° ë„ì›€ì´ ëìŠµë‹ˆë‹¤.</div>

        <textarea placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
        <button style="margin-top: 10px;">ëŒ“ê¸€ ì‘ì„±</button>
      </div>
    </div>

    <!-- Right Panel -->
    <div class="right-panel">
      <div class="download-box">
        <h3>ë‹¤ìš´ë¡œë“œ</h3>
        <a href="files/data_structure_mid_summary.pdf" download class="download-btn">PDF ë‹¤ìš´ë¡œë“œ</a>
        <div class="file-info">
          íŒŒì¼ëª…: data_structure_mid_summary.pdf<br>
          ìš©ëŸ‰: 1.8MB<br>
          ì—…ë¡œë“œ: 2025-04-30
        </div>
      </div>
      <div class="like-download-stats">
        <button id="likeBtn">ğŸ‘ ì¢‹ì•„ìš” (<span id="likeCount">0</span>)</button>
        <p>ğŸ“¥ ë‹¤ìš´ë¡œë“œ ìˆ˜: <span id="downloadCount">0</span></p>
      </div>
    </div>
  </div>

  <script>
    let likeCount = 0;
    let downloadCount = 0;

    document.getElementById("likeBtn").addEventListener("click", function() {
      likeCount++;
      document.getElementById("likeCount").textContent = likeCount;
    });
    document.querySelector('.download-btn').addEventListener('click', function () {
      downloadCount++;
      document.getElementById('downloadCount').textContent = downloadCount;
    });
  </script>

  <script type="module">
    import * as pdfjsLib from './pdfjs/pdf.mjs';

    const url = './files/data_structure_mid_summary.pdf';
    pdfjsLib.GlobalWorkerOptions.workerSrc = './pdfjs/pdf.worker.mjs';

    pdfjsLib.getDocument(url).promise.then(function (pdfDoc) {
      return pdfDoc.getPage(1);
    }).then(function (page) {
      const scale = 1.5;
      const viewport = page.getViewport({ scale: scale });

      const canvas = document.getElementById('pdf-canvas');
      const context = canvas.getContext('2d');
      canvas.height = viewport.height;
      canvas.width = viewport.width;

      const renderContext = {
        canvasContext: context,
        viewport: viewport
      };
      page.render(renderContext);
    });
  </script>

</body>
</html>